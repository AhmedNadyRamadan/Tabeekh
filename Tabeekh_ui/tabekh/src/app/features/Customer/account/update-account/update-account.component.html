<section class="container-fluid bg-white h_Full">
  <div class="mb-4 mt-4">
    <h2>تحديث المعلومات</h2>
    <form [formGroup]="updateForm" (ngSubmit)="onSubmit()" class="native-form">
      <div class="mb-2">
        <label for="name">الاسم *</label>
        <input type="text" id="name" formControlName="username" required />
        @if (updateForm.get('username')!.invalid &&
        updateForm.get('username')!.touched) {
        <small>يجب إدخال الاسم</small>
        }
      </div>

      <div class="mb-2">
        <label for="email">البريد الإلكتروني *</label>
        <input type="email" id="email" formControlName="email" required />
        @if (updateForm.get('email')!.invalid &&
        updateForm.get('email')!.touched) {
        <small>يجب إدخال بريد إلكتروني صالح</small>
        }
      </div>

      <div class="mb-2">
        <label for="phone">رقم الهاتف *</label>
        <input
          type="tel"
          id="phone"
          formControlName="phone"
          pattern="01[0-9]{9}"
          required
        />
        @if (updateForm.get('phone')!.invalid &&
        updateForm.get('phone')!.touched) {
        <small>يجب إدخال رقم هاتف صالح</small>
        }
      </div>

      <div class="mb-2">
        <label for="address">العنوان *</label>
        <textarea id="address" formControlName="address" required></textarea>
        @if (updateForm.get('address')!.invalid &&
        updateForm.get('address')!.touched) {
        <small>يجب إدخال العنوان</small>
        }
      </div>

      <div class="mb-2">
        <label for="photo">الصورة الشخصية</label>
        <input
          type="file"
          id="photo"
          accept="image/*"
          (change)="onPhotoChange($event)"
        />
        @if (previewPhoto) {
        <div class="mt-2 text-center">
          <img
            [src]="'data:image/*;base64, ' + previewPhoto"
            alt="Preview"
            width="225"
            class="rounded shadow-sm"
          />
        </div>
        }
      </div>

      <button
        type="submit"
        [disabled]="updateForm.invalid"
        (click)="onSubmit()"
      >
        تحديث
      </button>
    </form>
  </div>
</section>
